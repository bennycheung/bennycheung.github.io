<!-- Cat Dialog Bubble -->
<style>
#cat-hover-zone {
  position: fixed;
  bottom: 80px;
  right: 0;
  width: 150px;
  height: 220px;
  z-index: 9998;
  cursor: pointer;
}

#cat-speech-bubble {
  position: fixed;
  bottom: 200px;
  right: 10px;
  max-width: 220px;
  padding: 12px 15px;
  background: #fff;
  border-radius: 15px;
  box-shadow: 0 4px 15px rgba(0,0,0,0.15);
  font-size: 13px;
  line-height: 1.5;
  color: #333;
  z-index: 9999;
  opacity: 0;
  transform: translateY(10px);
  transition: opacity 0.3s ease, transform 0.3s ease;
  pointer-events: none;
}

#cat-speech-bubble a {
  color: #007bff;
  text-decoration: underline;
  font-weight: 500;
}

#cat-speech-bubble a:hover {
  color: #0056b3;
}

html.dark-mode #cat-speech-bubble a {
  color: #6db3f2;
}

html.dark-mode #cat-speech-bubble a:hover {
  color: #9ccfff;
}

#cat-speech-bubble.visible {
  opacity: 1;
  transform: translateY(0);
  pointer-events: auto;
}

/* Speech bubble tail */
#cat-speech-bubble::after {
  content: '';
  position: absolute;
  bottom: -10px;
  right: 50px;
  border: 10px solid transparent;
  border-top-color: #fff;
  border-bottom: 0;
}

/* Dark mode support */
html.dark-mode #cat-speech-bubble {
  background: #1f2940;
  color: #e0e0e0;
  box-shadow: 0 4px 15px rgba(0,0,0,0.3);
}

html.dark-mode #cat-speech-bubble::after {
  border-top-color: #1f2940;
}

/* Mobile adjustments */
@media (max-width: 768px) {
  #cat-hover-zone {
    bottom: 65px;
    width: 75px;
    height: 120px;
  }
  
  #cat-speech-bubble {
    bottom: 170px;
    right: 10px;
    max-width: 180px;
    font-size: 12px;
  }
}
</style>

<div id="cat-hover-zone"></div>
<div id="cat-speech-bubble"></div>

<script>
(function() {
  var catMessages = [
    // Blog facts
    "This blog explores AI, spatial reasoning, and blockchain since 2016! ğŸ§ ",
    "Fun fact: Benny trained custom AI models using <a href='/dreambooth-training-for-personal-embedding'>Stable Diffusion and Dreambooth</a>!",
    "The <a href='/game-architecture-card-ai-1'>'Race for the Galaxy' AI</a> used neural networks back in 2009 - before AlphaGo! ğŸ®",
    "This blog covers 100+ posts on AI, deep learning, and computer vision!",
    "Benny's master's thesis was on AI expert systems and <a href='/spatial-reasoning-explained'>spatial reasoning</a>! ğŸ“",
    "Explore topics from <a href='/using-prolog-to-solve-logic-puzzles'>Prolog logic programming</a> to <a href='/lean-ai-reduce-llm-cost'>GenAI cost optimization</a>!",
    "The blog bridges theory and practice - philosophy to hands-on projects! ğŸ”¬",
    "Deep dives into neural style transfer and <a href='/deep-dream-on-windows-10'>Deep Dream art</a>! ğŸ¨",
    "Learn about <a href='/identity-for-attribute-based-encryption'>Attribute-Based Encryption</a> for healthcare blockchains! ğŸ¥",
    "Discover <a href='/singularitynet-ai-service-integration'>SingularityNET</a> - decentralized AI services marketplace!",
    "The <a href='/q-star-new-method-in-problem-solving'>Q* proposal</a> explores A* algorithm meets Q-learning! ğŸ¤–",
    "<a href='/solving-puzzles-using-clp'>Constraint Logic Programming</a> with Prolog's clp(fd) module! ğŸ§©",
    "<a href='/firesql-in-python'>PyFireSQL</a> - SQL-like queries for Cloud Firestore in Python! ğŸ”¥",
    "<a href='/exploring-llms-on-universal-intelligence'>Marvin Minsky's 1985 insights</a> on universal intelligence explored here!",

    // Series highlights
    "Explore the <a href='/series/'>post series</a> for deep-dive multi-part articles! ğŸ“š",
    "The <a href='/bmad-reclaiming-control-in-ai-dev'>Applied BMAD</a> series covers AI-driven development in 3 parts!",
    "Check out the <a href='/game-architecture-card-ai-1'>Game Architecture</a> series - 4 parts from neural networks to ontology! ğŸ®",
    "The <a href='/using-prolog-to-solve-logic-puzzles'>Logic Puzzles</a> series spans 8 years of Prolog and visual logic! ğŸ§©",
    "Dive into <a href='/spatial-reasoning-explained'>Spatial Reasoning</a> - a 4-part journey to AGI foundations! ğŸ§ ",
    "The <a href='/identity-for-attribute-based-encryption'>Blockchain Healthcare</a> series explores identity and encryption! ğŸ¥",
    "Love miniatures? The <a href='/journey-of-building-scale-model-dioramas'>Building Scale Model</a> series shows the process! ğŸ¨",
    "The <a href='/q-star-new-method-in-problem-solving'>Philosophy of AI</a> series - 5 parts on intelligence and the future! ğŸ¤”",
    "7 curated series await you - visit the <a href='/series/'>Series page</a> to explore!",

    // Navigation tips
    "Try the dark mode toggle in the header! ğŸŒ™",
    "Check out Related Posts at the end of each article!",
    "Use the Table of Contents to jump to sections! ğŸ“‘",
    "Click any image to see it full-size! ğŸ”",
    "Share posts easily with the Twitter and LinkedIn buttons!",
    "Browse by tag to find related content! ğŸ·ï¸",
    "The Archives page shows all posts organized by year! ğŸ“…",
    "Click the Previous/Next cards to navigate between posts!",
    "Check out the <a href='/tags/'>interactive word cloud</a> on the Tags page! â˜ï¸",
    "The word cloud shows popular topics - bigger means more posts! ğŸ·ï¸",
    "Click any tag in the word cloud to explore related articles!",
    "Popular Topics on the Home page shows what Benny writes about most! âœ¨",

    // Post teasers
    "Have you read about <a href='/yolo-for-real-time-food-detection'>YOLO for real-time food detection</a>? ğŸ•",
    "Explore <a href='/spatial-reasoning-in-agi'>spatial reasoning</a> - the key to AGI beyond LLMs!",
    "Learn how to <a href='/ask-a-book-questions-with-langchain-openai'>ask questions of a book</a> using LangChain and OpenAI! ğŸ“š",
    "Discover the <a href='/dify-your-weekend-genai-magics'>Dify platform</a> for hands-on GenAI learning!",
    "Check out the guide on <a href='/ethereum_mining-on-windows-10'>Ethereum mining with GPUs</a>! â›ï¸",
    "Build a <a href='/snack-watching-with-raspberry-pi'>Snack Watcher</a> with Raspberry Pi and computer vision! ğŸ¿",
    "Explore the <a href='/existential-hack-with-docker'>existential crisis of microservices</a> with Docker! ğŸ³",
    "Learn about <a href='/fhir-server-up-and-running'>FHIR servers</a> for patient data ownership! ğŸ’Š",
    "<a href='/lean-ai-reduce-llm-cost'>Lean AI</a> - managing LLM costs for GenAI startups! ğŸ’°",
    "<a href='/enhancing-biblical-study-with-chatgpt'>ChatGPT for Biblical study</a> - AI meets ancient wisdom! âœ¨",
    "<a href='/identity-for-attribute-based-encryption'>X.509 and PKI</a> - foundations of digital identity explained! ğŸ”",
    "<a href='/geospatial-granular-computing'>Geospatial data processing</a> with PostGIS and granular computing! ğŸ—ºï¸",

    // Fun messages
    "Meow! Welcome to Benny's Mind Hack! ğŸ±",
    "*purrs* Thanks for visiting!",
    "I'm Hijiki, your friendly blog guide! ğŸ˜¸",
    "Hover over me anytime for tips and facts!",
    "Happy reading! Let me know if you need anything! ğŸ“–",
    "*stretches* Another curious reader! Welcome! ğŸ¾",
    "Did you know cats love AI too? Well, this one does! ğŸ˜º",
    "Click me again for another random fact!",
    "You've discovered the secret cat assistant! ğŸ‰"
  ];
  
  var lastMessageIndex = -1;
  var hideTimeout;
  var bubble = document.getElementById('cat-speech-bubble');
  var hoverZone = document.getElementById('cat-hover-zone');
  
  function getRandomMessage() {
    var index;
    do {
      index = Math.floor(Math.random() * catMessages.length);
    } while (index === lastMessageIndex && catMessages.length > 1);
    lastMessageIndex = index;
    return catMessages[index];
  }
  
  function showBubble() {
    clearTimeout(hideTimeout);
    bubble.innerHTML = getRandomMessage();
    bubble.classList.add('visible');
  }
  
  function hideBubble() {
    bubble.classList.remove('visible');
  }
  
  // Hover events
  hoverZone.addEventListener('mouseenter', function() {
    showBubble();
  });

  hoverZone.addEventListener('mouseleave', function() {
    hideTimeout = setTimeout(hideBubble, 1500);
  });

  // Keep bubble alive when hovering over it (for clicking links)
  bubble.addEventListener('mouseenter', function() {
    clearTimeout(hideTimeout);
  });

  bubble.addEventListener('mouseleave', function() {
    hideTimeout = setTimeout(hideBubble, 1500);
  });

  // Click to show another tip
  hoverZone.addEventListener('click', function() {
    showBubble();
  });
  
  // Touch support for mobile
  hoverZone.addEventListener('touchstart', function(e) {
    e.preventDefault();
    if (bubble.classList.contains('visible')) {
      hideBubble();
    } else {
      showBubble();
      hideTimeout = setTimeout(hideBubble, 4000);
    }
  });
  
  // Time-based greeting function
  function getTimeBasedGreeting() {
    var hour = new Date().getHours();

    if (hour >= 5 && hour < 12) {
      // Morning (5am - 12pm)
      var morningGreetings = [
        "Good morning! â˜€ï¸ Ready to explore some AI articles?",
        "Rise and shine! ğŸŒ… Fresh ideas await you today!",
        "Morning! â˜• Grab your coffee and let's learn something new!"
      ];
      return morningGreetings[Math.floor(Math.random() * morningGreetings.length)];
    } else if (hour >= 12 && hour < 17) {
      // Afternoon (12pm - 5pm)
      var afternoonGreetings = [
        "Good afternoon! ğŸŒ¤ï¸ Taking a break to read?",
        "Hey there! ğŸ˜¸ Perfect time for some tech exploration!",
        "Afternoon! ğŸ± Need a brain snack? Try a blog post!"
      ];
      return afternoonGreetings[Math.floor(Math.random() * afternoonGreetings.length)];
    } else if (hour >= 17 && hour < 21) {
      // Evening (5pm - 9pm)
      var eveningGreetings = [
        "Good evening! ğŸŒ… Winding down with some reading?",
        "Evening! ğŸŒ† Great time to dive into something interesting!",
        "Hey! ğŸ˜º Relaxing with some AI and tech articles?"
      ];
      return eveningGreetings[Math.floor(Math.random() * eveningGreetings.length)];
    } else {
      // Night (9pm - 5am)
      var nightGreetings = [
        "Late night browsing? ğŸŒ™ I'm a night owl too!",
        "Burning the midnight oil? ğŸ¦‰ Me too! Let's explore!",
        "Can't sleep? ğŸŒŒ Perfect time for some deep reading!",
        "Night owl mode! ğŸ±â€ğŸ‘¤ The best ideas come after dark!"
      ];
      return nightGreetings[Math.floor(Math.random() * nightGreetings.length)];
    }
  }

  // Show initial greeting based on time of day
  setTimeout(function() {
    bubble.innerHTML = getTimeBasedGreeting();
    bubble.classList.add('visible');
    setTimeout(hideBubble, 5000);
  }, 1000);
})();
</script>
